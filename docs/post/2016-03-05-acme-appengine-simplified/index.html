<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ACME &#43; AppEngine ... Simplified</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.68.1" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link href="" rel="alternate" type="application/rss+xml" title="Brian M Hunt" />
  <link href="https://brianmhunt.github.io/css/local.css" rel="stylesheet">
  <link rel="stylesheet" href="https://use.typekit.net/gdm7was.css">
  
  <script type="text/javascript" src="https://ssl.google-analytics.com/ga.js"></script>
  <script>
    var _gaq = _gaq || [];
    var pluginUrl = 
    '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
    _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
    _gaq.push(['_setAccount', 'UA-47448402-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  
  <link rel="alternate" type="application/rss+xml" href="https://brianmhunt.github.io/index.xml" title="Site Title">

</head>

<body>

<header>
  <a class='me' href='/'>Brian M Hunt</a>
</header>

<picture class='splash'>
  <source srcset="https://picsum.photos/1600/600" media="(min-width: 1600px)">
  <source srcset="https://picsum.photos/1200/400" media="(min-width: 1200px)">
  <source srcset="https://picsum.photos/800/300" media="(min-width: 800px)">
  <img class='splash' src='https://picsum.photos/600/200' alt='Splash by picsum.photos' />
</picture>


<article>
  <div class="title">ACME &#43; AppEngine ... Simplified</div>
  <div class="date">Mar 5, 2016</div>
  <div class="content">
    <p>Following my prior post on <a href="/articles/let-s-encrypt-acme-on-appengine/">Let&rsquo;s Encrypt - Acme on AppEngine</a>, I have rewritten
in Python and substantially simplified the process for deploying a challenge
with minimal user input.</p>
<p>In particular, the following script will extract the challenge from STDOUT of
Let&rsquo;s Encrypt, write the challenges to the given directory, call <code>appcfg.py</code>
to upload the challenges, before Let&rsquo;s Encrypt performs its validation.  If all
goes well, the private key is converted to a format usable by AppEngine and
both it and the certificate chain are printed to the terminal.</p>
<p>Accordingly, I have updated <a href="https://gist.github.com/brianmhunt/7c647dce3e43d886f1d2">my gist</a>, notably replacing all the Node/JS with
<a href="https://gist.github.com/brianmhunt/7c647dce3e43d886f1d2#file-regen-py">a single Python script</a>:</p>
<script src="https://gist.github.com/brianmhunt/7c647dce3e43d886f1d2.js?file=regen.py"></script>
<p>While it may still take some tinkering to get it right, the basic structure
works for my setup and the changes should mostly relate to configuration and
parameters.</p>
<p>There are some Python dependencies, notably Click, Colorama and pexpect.</p>
<p>This script remains quite convoluted, so I submitted <a href="https://github.com/letsencrypt/letsencrypt/issues/2610">an issue to the Let&rsquo;s
Encrypt GitHub repository</a> to
enable arbitrary shell commands to perform steps for validation, which would dramatically simplify the process and make it more robust.</p>

  </div>
  <div class='copyright'> &copy; 2016 </div>
</article>

  <footer>

    <div class="pager">
      <div class="list-link"><a href="/post">Go to all posts</a></div>
      
        <a class="prev-link" href="https://brianmhunt.github.io/post/2016-02-22-let-s-encrypt-acme-on-appengine/">
          Previous post Feb 22, 2016
          <br/><em>Let&#39;s Encrypt - ACME on AppEngine</em>
        </a>
      
      
        <a class="next-link" href="https://brianmhunt.github.io/post/2016-03-15-master-debugging-promises/">
          Next post Mar 15, 2016
          <br/><em>Debugging Deep Promises</em>
        </a>
      
    </div>

    <div class='license'>
      <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">ACME &#43; AppEngine ... Simplified</span> by Brian M Hunt at <a xmlns:cc="http://creativecommons.org/ns#" href="https://brianmhunt.github.io/post/2016-03-05-acme-appengine-simplified/" property="cc:attributionName" rel="cc:attributionURL">https://brianmhunt.github.io/post/2016-03-05-acme-appengine-simplified/</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
      <br/>
      <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a> 
    </div>
    <div class='photo-credit'>
      Photo credit: <a href='https://picsum.photos'>https://picsum.photos</a>
    </div>
  </footer>
</body>
</html>

